{"version":3,"file":"index.js","mappings":"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","sources":["webpack://announcment-bar/./src/index.scss","webpack://announcment-bar/external window \"React\"","webpack://announcment-bar/external window [\"wp\",\"apiFetch\"]","webpack://announcment-bar/external window [\"wp\",\"components\"]","webpack://announcment-bar/external window [\"wp\",\"data\"]","webpack://announcment-bar/external window [\"wp\",\"domReady\"]","webpack://announcment-bar/external window [\"wp\",\"element\"]","webpack://announcment-bar/external window [\"wp\",\"i18n\"]","webpack://announcment-bar/external window [\"wp\",\"notices\"]","webpack://announcment-bar/webpack/bootstrap","webpack://announcment-bar/webpack/runtime/compat get default export","webpack://announcment-bar/webpack/runtime/define property getters","webpack://announcment-bar/webpack/runtime/hasOwnProperty shorthand","webpack://announcment-bar/webpack/runtime/make namespace object","webpack://announcment-bar/./src/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"domReady\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"notices\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import domReady from '@wordpress/dom-ready';\nimport { createRoot, useState, useEffect } from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\nimport { __ } from '@wordpress/i18n';\nimport { useDispatch, useSelect } from \"@wordpress/data\";\nimport { store as noticesStore } from '@wordpress/notices'\nimport { Button, FontSizePicker, Panel, PanelBody, PanelRow, TextareaControl, ToggleControl, __experimentalHeading as Heading, NoticeList } from '@wordpress/components';\nimport './index.scss';\n\nconst useSettings = () => {\n    const [message, setMessage] = useState('Hello, Worlds');\n    const [display, setDisplay] = useState(true);\n    const [size, setSize] = useState('medium');\n    const { createSuccessNotice } = useDispatch(noticesStore);\n\n    useEffect(() => {\n        apiFetch({ path: '/wp/v2/settings' }).then((settings) => {\n            setMessage(settings.announcement_bar.message);\n            setDisplay(settings.announcement_bar.display);\n            setSize(settings.announcement_bar.size);\n        })\n    }, []);\n\n    const saveSettings = () => {\n        apiFetch({\n            path: '/wp/v2/settings',\n            method: 'POST',\n            data: {\n                announcement_bar: {\n                    message,\n                    display,\n                    size\n                }\n            }\n        }).then(() => {\n            createSuccessNotice(\n                __('Settings Saved.', 'announcement-bar')\n            );\n        })\n\n    }\n\n    return {\n        message,\n        setMessage,\n        display,\n        setDisplay,\n        size,\n        setSize,\n        saveSettings\n    };\n\n}\n\nconst Notices = () => {\n    const { removeNotice } = useDispatch(noticesStore);\n    const notices = useSelect(select => select(noticesStore).getNotices());\n\n    if (notices.length === 0) {\n        return null;\n    }\n\n    return <NoticeList notices={notices} onRemove={removeNotice} />\n}\n\nconst MessageControl = ({ value, onChange }) => {\n    return (\n        <TextareaControl label={__(\"message\", 'announcment-bar')} value={value} onChange={onChange} __nextHasNoMarginBottom />\n    )\n}\n\nconst DisplayControl = ({ value, onChange }) => {\n    return (\n        <ToggleControl label={__(\"display\", 'announcment-bar')} checked={value} onChange={onChange} __nextHasNoMarginBottom />\n    )\n}\n\nconst SizeControl = ({ value, onChange }) => {\n    return (\n        <FontSizePicker\n            fontSizes={\n                [\n                    {\n                        name: __('Small', 'announcment-bar'),\n                        size: 'small',\n                        slug: 'small'\n                    },\n                    {\n                        name: __('Medium', 'announcment-bar'),\n                        size: 'medium',\n                        slug: 'medium'\n                    },\n                    {\n                        name: __('Large', 'announcment-bar'),\n                        size: 'large',\n                        slug: 'large'\n                    },\n                    {\n                        name: __('Extra Large', 'announcment-bar'),\n                        size: 'x-large',\n                        slug: 'x-large'\n                    }\n                ]\n            }\n            value={value}\n            onChange={onChange}\n            disableCustomFontSizes={true}\n            __nextHasNoMarginBottom\n        />\n    )\n}\n\nconst SaveButton = ({ onClick }) => {\n    return (\n        <Button variant='primary' onClick={onClick}>\n            {__('Save', 'announcment-bar')}\n        </Button>\n    )\n}\n\nconst SettingsTitle = () => {\n    return (\n        <Heading level={1}>\n            {__(\"Announcement Bar\", 'announcment-bar')}\n        </Heading>\n    )\n}\n\nconst SettingsPage = () => {\n    const { message, setMessage, display, setDisplay, size, setSize, saveSettings } = useSettings();\n    return (\n        <>\n            <SettingsTitle />\n            <Notices />\n            <Panel>\n                <PanelBody>\n                    <PanelRow>\n                        <MessageControl\n                            value={message}\n                            onChange={value => setMessage(value)}\n                        />\n                    </PanelRow>\n                    <PanelRow>\n                        <DisplayControl value={display} onChange={value => setDisplay(value)} />\n                    </PanelRow>\n                </PanelBody>\n                <PanelBody\n                    title={__('Appearance', 'announcment-bar')}\n                    initialOpen={false}\n                >\n                    <PanelRow>\n                        <SizeControl value={size} onChange={value => setSize(value)} />\n                    </PanelRow>\n                </PanelBody>\n            </Panel>\n            <SaveButton onClick={saveSettings} />\n        </>\n    )\n}\n\ndomReady(() => {\n    const root = createRoot(document.getElementById('announcement-bar-settings'));\n\n    root.render(<SettingsPage />);\n});"],"names":["domReady","createRoot","useState","useEffect","apiFetch","__","useDispatch","useSelect","store","noticesStore","Button","FontSizePicker","Panel","PanelBody","PanelRow","TextareaControl","ToggleControl","__experimentalHeading","Heading","NoticeList","useSettings","message","setMessage","display","setDisplay","size","setSize","createSuccessNotice","path","then","settings","announcement_bar","saveSettings","method","data","Notices","removeNotice","notices","select","getNotices","length","createElement","onRemove","MessageControl","value","onChange","label","__nextHasNoMarginBottom","DisplayControl","checked","SizeControl","fontSizes","name","slug","disableCustomFontSizes","SaveButton","onClick","variant","SettingsTitle","level","SettingsPage","Fragment","title","initialOpen","root","document","getElementById","render"],"sourceRoot":""}